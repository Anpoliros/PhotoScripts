# PhotoScripts - ç…§ç‰‡å¤„ç†å·¥å…·é›†

è¿™æ˜¯ä¸€ä¸ªç…§ç‰‡å’Œåª’ä½“æ–‡ä»¶å¤„ç†å·¥å…·é›†ï¼ŒåŒ…å«å¤šä¸ªå®ç”¨çš„ Java è„šæœ¬å·¥å…·ã€‚

## ğŸ¯ Script Hub v2.0 - é€šç”¨è„šæœ¬ç®¡ç†å’Œè‡ªåŠ¨åŒ–å¹³å°

**Script Hub** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ macOS åŸç”Ÿåº”ç”¨ï¼Œä¸ä»…æä¾›ç°ä»£åŒ–çš„ GUI æ¥è¿è¡Œè„šæœ¬ï¼Œè¿˜åŒ…å«å®Œæ•´çš„è„šæœ¬ç®¡ç†ã€ç»„ç»‡å’Œè‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œç±»ä¼¼ Apple Automator ä½†æ›´åŠ é€šç”¨å’Œå¼€æ”¾ï¼

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½è„šæœ¬è¯†åˆ«** - è‡ªåŠ¨åˆ†æ Javaã€Pythonã€Shell è„šæœ¬çš„å‚æ•°å’Œå…¥å£ç‚¹
- ğŸ“ **è„šæœ¬åˆ†ç»„ç®¡ç†** - ä½¿ç”¨è‡ªå®šä¹‰åˆ†ç»„æ¥ç»„ç»‡ä½ çš„è„šæœ¬
- ğŸ”„ **å¯è§†åŒ–å·¥ä½œæµ** - åƒ Automator ä¸€æ ·ä¸²è”è„šæœ¬åˆ›å»ºå¤æ‚çš„è‡ªåŠ¨åŒ–æµç¨‹
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - æ‰€æœ‰é…ç½®è‡ªåŠ¨ä¿å­˜ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡º
- ğŸš€ **å¤šè¯­è¨€æ”¯æŒ** - Javaã€Pythonã€Shellï¼Œè¿˜å¯ä»¥æ‰©å±•æ›´å¤š

### å¿«é€Ÿå¼€å§‹

```bash
cd ScriptHub
./build.sh
./.build/release/ScriptHub
```

æˆ–è€…åœ¨ Xcode ä¸­æ‰“å¼€ï¼š

```bash
cd ScriptHub
open Package.swift
```

è¯¦ç»†è¯´æ˜è¯·å‚é˜…ï¼š
- [Script Hub å®Œæ•´æ–‡æ¡£](ScriptHub/README_v2.md)
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICKSTART.md)

## ğŸ“¦ åŒ…å«çš„è„šæœ¬å·¥å…·

### 1. File Grouper (æ–‡ä»¶åˆ†ç»„å™¨)
å°†ç›®å½•ä¸­çš„æ–‡ä»¶æŒ‰æŒ‡å®šå¤§å°åˆ†ç»„ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java FileGrouper <åˆ†ç»„å¤§å°> <æŒ‰æ—¥æœŸæ’åº> <ç›®å½•è·¯å¾„>
# ç¤ºä¾‹
java FileGrouper 200 true ./Photos
```

**å‚æ•°è¯´æ˜ï¼š**
- `åˆ†ç»„å¤§å°` - æ¯ç»„åŒ…å«çš„æ–‡ä»¶æ•°é‡
- `æŒ‰æ—¥æœŸæ’åº` - true æˆ– false
- `ç›®å½•è·¯å¾„` - è¦å¤„ç†çš„ç›®å½•

### 2. Date Modifier (æ—¥æœŸä¿®æ”¹å™¨)
å°†æ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸæ”¹ä¸ºåˆ›å»ºæ—¥æœŸã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java DateModifier <æ–‡ä»¶ç±»å‹> <é€’å½’å¤„ç†> <ç›®å½•è·¯å¾„>
# ç¤ºä¾‹
java DateModifier "jpg/png/gif" true ./Photos
java DateModifier "*" false ./Photos  # æ‰€æœ‰æ–‡ä»¶ç±»å‹
```

**å‚æ•°è¯´æ˜ï¼š**
- `æ–‡ä»¶ç±»å‹` - æ–‡ä»¶æ‰©å±•åï¼ˆç”¨ / åˆ†éš”ï¼‰ï¼Œæˆ– * è¡¨ç¤ºæ‰€æœ‰ç±»å‹
- `é€’å½’å¤„ç†` - true æˆ– false
- `ç›®å½•è·¯å¾„` - è¦å¤„ç†çš„ç›®å½•

### 3. Batch Zip (æ‰¹é‡å‹ç¼©)
ä½¿ç”¨ 7zip æ‰¹é‡å‹ç¼©æ‰€æœ‰å­ç›®å½•ï¼ˆå¸¦å¯†ç ä¿æŠ¤ï¼‰ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java BatchZip <7zipè·¯å¾„> <ç›®å½•è·¯å¾„>
# ç¤ºä¾‹
java BatchZip /usr/local/bin/7z ./Photos
```

**æ³¨æ„ï¼š**
- éœ€è¦å®‰è£… 7zip
- é»˜è®¤å¯†ç ï¼šPHOTOSzbc23980813

### 4. PNG to JPEG Converter (PNGè½¬JPEG)
æ‰¹é‡å°† PNG å›¾ç‰‡è½¬æ¢ä¸º JPEG æ ¼å¼ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java PngToJpegConverter <åˆ é™¤åŸæ–‡ä»¶> <é€’å½’å¤„ç†> <ç›®å½•è·¯å¾„>
# ç¤ºä¾‹
java PngToJpegConverter reserve cascade ./Photos
```

**å‚æ•°è¯´æ˜ï¼š**
- `åˆ é™¤åŸæ–‡ä»¶` - delete æˆ– reserve
- `é€’å½’å¤„ç†` - cascade æˆ– only_this
- `ç›®å½•è·¯å¾„` - è¦å¤„ç†çš„ç›®å½•

### 5. Wallpaper Picker (å£çº¸é€‰æ‹©å™¨)
ä»å›¾ç‰‡é›†åˆä¸­ç­›é€‰å‡ºæ¨ªå‘ï¼ˆå®½å±ï¼‰å›¾ç‰‡ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java WallpaperPicker <åˆ é™¤æºæ–‡ä»¶> <é€’å½’å¤„ç†> <è¾“å‡ºç›®å½•> <è¾“å…¥ç›®å½•>
# ç¤ºä¾‹
java WallpaperPicker reserve cascade ./wallpapers ./Photos
java WallpaperPicker delete onlyhere default ./Photos
```

**å‚æ•°è¯´æ˜ï¼š**
- `åˆ é™¤æºæ–‡ä»¶` - delete æˆ– reserve
- `é€’å½’å¤„ç†` - cascade æˆ– onlyhere
- `è¾“å‡ºç›®å½•` - è¾“å‡ºç›®å½•è·¯å¾„æˆ– "default"
- `è¾“å…¥ç›®å½•` - è¾“å…¥ç›®å½•è·¯å¾„

### 6. Wallpaper Picker Metadata (å…ƒæ•°æ®å£çº¸é€‰æ‹©å™¨)
ä½¿ç”¨ EXIF å…ƒæ•°æ®æ¥ç­›é€‰æ¨ªå‘å›¾ç‰‡ï¼ˆæ›´å‡†ç¡®ï¼‰ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
java WallpaperPickerMetadata <åˆ é™¤æºæ–‡ä»¶> <é€’å½’å¤„ç†> <è¾“å‡ºç›®å½•> <è¾“å…¥ç›®å½•>
# ç¤ºä¾‹
java WallpaperPickerMetadata reserve cascade null ./Photos
```

**æ³¨æ„ï¼š**
- éœ€è¦ Drew Imaging åº“æ”¯æŒ
- è¾“å‡ºç›®å½•å¯ä»¥ä½¿ç”¨ "null" è¡¨ç¤ºä½¿ç”¨é»˜è®¤ä½ç½®

## ğŸ› ï¸ ç¼–è¯‘å’Œè¿è¡Œ

### ç¼–è¯‘å•ä¸ªè„šæœ¬

```bash
# ç¼–è¯‘
javac -d out/production/Scripts src/ScriptName.java

# è¿è¡Œ
java -cp out/production/Scripts ScriptName <å‚æ•°>
```

### ç¼–è¯‘æ‰€æœ‰è„šæœ¬

```bash
# åˆ›å»ºè¾“å‡ºç›®å½•
mkdir -p out/production/Scripts

# ç¼–è¯‘æ‰€æœ‰è„šæœ¬
javac -d out/production/Scripts src/*.java
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
PhotoScripts/
â”œâ”€â”€ src/                          # Java æºä»£ç 
â”‚   â”œâ”€â”€ FileGrouper.java
â”‚   â”œâ”€â”€ DateModifier.java
â”‚   â”œâ”€â”€ BatchZip.java
â”‚   â”œâ”€â”€ PngToJpegConverter.java
â”‚   â”œâ”€â”€ WallpaperPicker.java
â”‚   â””â”€â”€ WallpaperPickerMetadata.java
â”œâ”€â”€ archive/                      # å½’æ¡£çš„æ—§ç‰ˆæœ¬è„šæœ¬
â”œâ”€â”€ jar/                          # é¢„ç¼–è¯‘çš„ JAR æ–‡ä»¶
â”œâ”€â”€ out/production/Scripts/       # ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ test/                         # æµ‹è¯•æ•°æ®
â”œâ”€â”€ ScriptHub/                    # macOS åº”ç”¨ï¼ˆæ¨èä½¿ç”¨ï¼ï¼‰
â”‚   â”œâ”€â”€ ScriptHub/                # Swift æºä»£ç 
â”‚   â”œâ”€â”€ Package.swift             # Swift Package é…ç½®
â”‚   â”œâ”€â”€ build.sh                  # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ README.md                 # åº”ç”¨æ–‡æ¡£
â”œâ”€â”€ scripts_config.json           # è„šæœ¬é…ç½®ï¼ˆä¾› ScriptHub ä½¿ç”¨ï¼‰
â””â”€â”€ readme.txt                    # åŸå§‹è¯´æ˜æ–‡ä»¶ï¼ˆä¸­æ–‡ï¼‰
```

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æ¨èï¼šä½¿ç”¨ Script Hub åº”ç”¨
æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ Script Hub macOS åº”ç”¨ï¼š
1. ä¸éœ€è¦è®°å¿†å¤æ‚çš„å‘½ä»¤è¡Œå‚æ•°
2. å›¾å½¢ç•Œé¢é€‰æ‹©æ–‡ä»¶å’Œç›®å½•
3. å®æ—¶æŸ¥çœ‹æ‰§è¡Œè¾“å‡º
4. è‡ªåŠ¨ç¼–è¯‘ Java ä»£ç 

### å‘½ä»¤è¡Œä½¿ç”¨
å¦‚æœä½ æ›´å–œæ¬¢å‘½ä»¤è¡Œï¼š
1. é¢„ç¼–è¯‘çš„ class æ–‡ä»¶åœ¨ `out/production/Scripts/`
2. å¯ä»¥ç›´æ¥ä½¿ç”¨ `java -cp out/production/Scripts ScriptName` è¿è¡Œ

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **Java**: JDK 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **macOS**: 13.0+ (ä»… Script Hub åº”ç”¨éœ€è¦)
- **7zip**: ç”¨äº BatchZip è„šæœ¬
- **Drew Imaging åº“**: ç”¨äº WallpaperPickerMetadata

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•é€‰æ‹©ä½¿ç”¨å“ªä¸ªå£çº¸é€‰æ‹©å™¨ï¼Ÿ

- **WallpaperPicker**: æ›´å¿«ï¼Œä½†å¯èƒ½ä¸å¤Ÿå‡†ç¡®ï¼ˆç›´æ¥è¯»å–å›¾ç‰‡ï¼‰
- **WallpaperPickerMetadata**: æ›´å‡†ç¡®ï¼ˆè¯»å– EXIF å…ƒæ•°æ®ï¼‰ï¼Œä½†éœ€è¦é¢å¤–çš„åº“

### Q: BatchZip çš„å¯†ç èƒ½ä¿®æ”¹å—ï¼Ÿ

éœ€è¦ä¿®æ”¹ `src/BatchZip.java` æºä»£ç ä¸­çš„å¯†ç å¸¸é‡ï¼Œç„¶åé‡æ–°ç¼–è¯‘ã€‚

### Q: è„šæœ¬å¯ä»¥å¤„ç†ä¸­æ–‡è·¯å¾„å—ï¼Ÿ

å¯ä»¥ï¼Œæ‰€æœ‰è„šæœ¬éƒ½æ”¯æŒ UTF-8 ç¼–ç çš„ä¸­æ–‡è·¯å¾„ã€‚

## ğŸš€ æœªæ¥è®¡åˆ’

- [ ] æ”¯æŒ Python è„šæœ¬
- [ ] æ·»åŠ æ›´å¤šå›¾ç‰‡å¤„ç†åŠŸèƒ½
- [ ] æä¾› Windows ç‰ˆæœ¬çš„ GUI
- [ ] æ·»åŠ æ‰¹å¤„ç†ä»»åŠ¡é˜Ÿåˆ—
- [ ] æ”¯æŒè‡ªå®šä¹‰è„šæœ¬æ’ä»¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºä¸ªäººå·¥å…·é›†ï¼Œæ¬¢è¿ä½¿ç”¨å’Œä¿®æ”¹ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜æŠ¥å‘Šå’Œæ”¹è¿›å»ºè®®ï¼
